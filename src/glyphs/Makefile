# Makefile generated by imake - do not edit!
# $XConsortium: imake.c /main/88 1995/12/08 16:33:13 gildea $

# Read "template" to understand how this Makefile was generated.
# Edit <arch.def> to add support for a new platform.
# Edit <InterViews/iv-linux.cf> to change platform-specific parameters.
# Edit <local.def> to change site-specific parameters.
# Edit <glyphs/Imakefile> to change actions that make should perform.

# architecture:  LINUX

# -------------------------------------------------------------------------
# from <local.def>:

     GPLUSPLUS_INCLUDE_DIR = /usr/include/g++
          TOOL_INCLUDE_DIR = /usr/local/include

    NORM_CCINCLUDES = -I$(CURRENT_DIR)/.. -I$(CURRENT_DIR)/../.. -I$(TOP)/src -I$(IVTOOLSSRC) $(BACKWARD_CCINCLUDES) -I$(IVTOOLSSRC)/include -I$(IVTOOLSSRC)/include/std $(X_CCINCLUDES)

    APP_CCINCLUDES = $(NORM_CCINCLUDES)

             IVTOOLSSRC = $(TOP)/src

  LIBUNIDRAWCOMMON = -Wl,-rpath,$(IVTOOLSSRC)/Unidraw-common/$(CPU) -L$(IVTOOLSSRC)/Unidraw-common/$(CPU) -lUnidraw-common
       LIBIVCOMMON = -Wl,-rpath,$(IVTOOLSSRC)/IV-common/$(CPU) -L$(IVTOOLSSRC)/IV-common/$(CPU) -lIV-common
           LIBTIME = -Wl,-rpath,$(IVTOOLSSRC)/Time/$(CPU) -L$(IVTOOLSSRC)/Time/$(CPU) -lTime
      LIBATTRIBUTE = -Wl,-rpath,$(IVTOOLSSRC)/Attribute/$(CPU) -L$(IVTOOLSSRC)/Attribute/$(CPU) -lAttribute
        LIBCOMUTIL = -Wl,-rpath,$(IVTOOLSSRC)/ComUtil/$(CPU) -L$(IVTOOLSSRC)/ComUtil/$(CPU) -lComUtil
        LIBCOMTERP = -Wl,-rpath,$(IVTOOLSSRC)/ComTerp/$(CPU) -L$(IVTOOLSSRC)/ComTerp/$(CPU) -lComTerp
        LIBIVGLYPH = -Wl,-rpath,$(IVTOOLSSRC)/IVGlyph/$(CPU) -L$(IVTOOLSSRC)/IVGlyph/$(CPU) -lIVGlyph
      LIBATTRGLYPH = -Wl,-rpath,$(IVTOOLSSRC)/AttrGlyph/$(CPU) -L$(IVTOOLSSRC)/AttrGlyph/$(CPU) -lAttrGlyph
       LIBCOMGLYPH = -Wl,-rpath,$(IVTOOLSSRC)/ComGlyph/$(CPU) -L$(IVTOOLSSRC)/ComGlyph/$(CPU) -lComGlyph
      LIBGLYPHTERP = -Wl,-rpath,$(IVTOOLSSRC)/GlyphTerp/$(CPU) -L$(IVTOOLSSRC)/GlyphTerp/$(CPU) -lGlyphTerp
       LIBUNIIDRAW = -Wl,-rpath,$(IVTOOLSSRC)/UniIdraw/$(CPU) -L$(IVTOOLSSRC)/UniIdraw/$(CPU) -lUniIdraw
 LIBOVERLAYUNIDRAW = -Wl,-rpath,$(IVTOOLSSRC)/OverlayUnidraw/$(CPU) -L$(IVTOOLSSRC)/OverlayUnidraw/$(CPU) -lOverlayUnidraw
       LIBTOPOFACE = -Wl,-rpath,$(IVTOOLSSRC)/TopoFace/$(CPU) -L$(IVTOOLSSRC)/TopoFace/$(CPU) -lTopoFace
   LIBGRAPHUNIDRAW = -Wl,-rpath,$(IVTOOLSSRC)/GraphUnidraw/$(CPU) -L$(IVTOOLSSRC)/GraphUnidraw/$(CPU) -lGraphUnidraw
   LIBFRAMEUNIDRAW = -Wl,-rpath,$(IVTOOLSSRC)/FrameUnidraw/$(CPU) -L$(IVTOOLSSRC)/FrameUnidraw/$(CPU) -lFrameUnidraw
     LIBCOMUNIDRAW = -Wl,-rpath,$(IVTOOLSSRC)/ComUnidraw/$(CPU) -L$(IVTOOLSSRC)/ComUnidraw/$(CPU) -lComUnidraw
     LIBDRAWSERV = -Wl,-rpath,$(IVTOOLSSRC)/DrawServ/$(CPU) -L$(IVTOOLSSRC)/DrawServ/$(CPU) -lDrawServ

  DEPUNIDRAWCOMMON = $(IVTOOLSSRC)/Unidraw-common/$(CPU)/libUnidraw-common.so.$(VERSION)
       DEPIVCOMMON = $(IVTOOLSSRC)/IV-common/$(CPU)/libIV-common.so.$(VERSION)
           DEPTIME = $(IVTOOLSSRC)/Time/$(CPU)/libTime.so.$(VERSION)
      DEPATTRIBUTE = $(IVTOOLSSRC)/Attribute/$(CPU)/libAttribute.so.$(VERSION)
        DEPCOMUTIL = $(IVTOOLSSRC)/ComUtil/$(CPU)/libComUtil.so.$(VERSION)
        DEPCOMTERP = $(IVTOOLSSRC)/ComTerp/$(CPU)/libComTerp.so.$(VERSION)
        DEPIVGLYPH = $(IVTOOLSSRC)/IVGlyph/$(CPU)/libIVGlyph.so.$(VERSION)
      DEPATTRGLYPH = $(IVTOOLSSRC)/AttrGlyph/$(CPU)/libAttrGlyph.so.$(VERSION)
       DEPCOMGLYPH = $(IVTOOLSSRC)/ComGlyph/$(CPU)/libComGlyph.so.$(VERSION)
      DEPGLYPHTERP = $(IVTOOLSSRC)/GlyphTerp/$(CPU)/libGlyphTerp.so.$(VERSION)
       DEPUNIIDRAW = $(IVTOOLSSRC)/UniIdraw/$(CPU)/libUniIdraw.so.$(VERSION)
 DEPOVERLAYUNIDRAW = $(IVTOOLSSRC)/OverlayUnidraw/$(CPU)/libOverlayUnidraw.so.$(VERSION)
       DEPTOPOFACE = $(IVTOOLSSRC)/TopoFace/$(CPU)/libTopoFace.so.$(VERSION)
   DEPGRAPHUNIDRAW = $(IVTOOLSSRC)/GraphUnidraw/$(CPU)/libGraphUnidraw.so.$(VERSION)
   DEPFRAMEUNIDRAW = $(IVTOOLSSRC)/FrameUnidraw/$(CPU)/libFrameUnidraw.so.$(VERSION)
     DEPCOMUNIDRAW = $(IVTOOLSSRC)/ComUnidraw/$(CPU)/libComUnidraw.so.$(VERSION)
     DEPDRAWSERV = $(IVTOOLSSRC)/DrawServ/$(CPU)/libDrawServ.so.$(VERSION)

# -------------------------------------------------------------------------

   RELEASE = ivtools-0.6

   VERSION = 0.6.2

   REPOSITORY_FILES = *.c *.cc *.cxx *.C *.h Imakefile *.def template README INSTALL VERSION MANIFEST COPYRIGHT ANNOUNCE README.ivmkcm *.patch *.bugfix.? *.script *.sed comutil.arg comterp.err comutil.ci comterp.arg comterp.ci site.def.SUN4 site.def.LINUX site.def.SGI site.def.HP800 WishList *.defaults *.cf HOWTO Copyright *.sh CHANGES CHANGES-0.5 ivmkmf.cpp ivmkmf

              SHELL = /bin/sh

              IMAKE = imake
         IMAKEFLAGS = \
	-T "template"\
	-I$(TOP)/config -I$(CONFIGSRC) -I$(XCONFIGDIR)\
	$(SPECIAL_IMAKEFLAGS)
 SPECIAL_IMAKEFLAGS =
             DEPEND = makedepend
     DEPEND_CCFLAGS = -DMAKEDEPEND $(CCDEFINES) $(CCINCLUDES) -I$(GPLUSPLUS_INCLUDE_DIR) -I$(TOOL_INCLUDE_DIR)
               MAKE = make
           PASSARCH = ARCH="$(ARCH)" SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS)" CMFLAGS="$(CMFLAGS)" CMMSG="$(CMMSG)"
          ARCHORCPU = $$CPU
               ARCH = $(ARCHORCPU)$(SPECIAL_ARCH)
       SPECIAL_ARCH =

           CCDRIVER = gcc
           CCSUFFIX = c
                SRC = /proj/ivtools-0.6/src/glyphs/.
              SLASH = /
               SRCS = $(SRC)$(SLASH)*.$(CCSUFFIX)
               OBJS = *.o
               AOUT = a.out

            CCFLAGS = $(APP_CCFLAGS) $(IV_CCFLAGS) $(OTHER_CCFLAGS) $(EXTRA_CCFLAGS)
         IV_CCFLAGS = \
	$(DEBUG_CCFLAGS)\
	\
	$(SHARED_CCFLAGS)\
	$(CCDEFINES)\
	$(CCINCLUDES)
      DEBUG_CCFLAGS = -g
   OPTIMIZE_CCFLAGS = -O6
     SHARED_CCFLAGS =
      EXTRA_CCFLAGS =
      OTHER_CCFLAGS =

          CCDEFINES = $(APP_CCDEFINES) $(IV_CCDEFINES) $(OTHER_CCDEFINES) $(EXTRA_CCDEFINES)
       IV_CCDEFINES = $(LANGUAGE_CCDEFINES) $(BACKWARD_CCDEFINES)
 LANGUAGE_CCDEFINES = -Dcplusplus_2_1
 BACKWARD_CCDEFINES =
    EXTRA_CCDEFINES =
    OTHER_CCDEFINES = $(CLIPPOLY_CCDEFINES) $(ACE_CCDEFINES)

 CLIPPOLY_CCDEFINES = -DCLIPPOLY
      ACE_CCDEFINES = -DHAVE_ACE

         CCINCLUDES = $(APP_CCINCLUDES) $(OTHER_CCINCLUDES) $(EXTRA_CCINCLUDES)
      IV_CCINCLUDES = IvCCIncludes
BACKWARD_CCINCLUDES =
     TOP_CCINCLUDES = -I$(INCSRC)
       X_CCINCLUDES = -I$(XINCDIR)
   EXTRA_CCINCLUDES =
   OTHER_CCINCLUDES = $(CLIPPOLY_CCINCLUDES) $(ACE_CCINCLUDES)

CLIPPOLY_CCINCLUDES = -I$(CLIPPOLYDIR)
     ACE_CCINCLUDES = -I$(ACEDIR)
        CLIPPOLYDIR = /proj/clippoly
   	     ACEDIR = /proj/ACE_wrappers

          CCLDFLAGS = $(APP_CCLDFLAGS) $(IV_CCLDFLAGS) $(OTHER_CCLDFLAGS) $(EXTRA_CCLDFLAGS)
       IV_CCLDFLAGS = \
	$(DEBUG_CCFLAGS)\
	\
	$(NONSHARED_CCLDFLAGS)
NONSHARED_CCLDFLAGS =
   SHARED_CCLDFLAGS =
    EXTRA_CCLDFLAGS =
    OTHER_CCLDFLAGS =

          CCDEPLIBS = $(APP_CCDEPLIBS) $(IV_CCDEPLIBS) $(OTHER_CCDEPLIBS) $(EXTRA_CCDEPLIBS) $(_CCDEPLIBS)
       IV_CCDEPLIBS = \
	$(DEPLIBUNIDRAW)\
	$(DEPLIBGRAPHIC)\
	$(DEPLIBIV)\
	$(DEPLIBXEXT)\
	$(DEPLIBX11)\
	$(DEPLIBM)
    EXTRA_CCDEPLIBS =
    OTHER_CCDEPLIBS =

           CCLDLIBS = $(APP_CCLDLIBS) $(IV_CCLDLIBS) $(OTHER_CCLDLIBS) $(EXTRA_CCLDLIBS)
        IV_CCLDLIBS = \
	$(LIBDIRPATH)\
	$(LDLIBUNIDRAW)\
	$(LDLIBGRAPHIC)\
	$(LDLIBIV)\
	$(XLIBDIRPATH)\
	$(LDLIBXEXT)\
	$(LDLIBX11)\
	$(ABSLIBDIRPATH)
    SHARED_CCLDLIBS =
     EXTRA_CCLDLIBS = -lstdc++ -lm
     OTHER_CCLDLIBS = $(CLIPPOLY_CCLDLIBS) $(ACE_CCLDLIBS)

  CLIPPOLY_CCLDLIBS = -L$(CLIPPOLYLIBDIR) -lclippoly
     CLIPPOLYLIBDIR = /proj/clippoly
    CLIPPOLYLIBBASE = libclippoly.so
       ACE_CCLDLIBS = -L$(ACEDIR)/ace -lACE
          ACELIBDIR = /proj/ACE_wrappers/ace
         ACELIBBASE = libACE.so

            INSTALL = install
       INSTPGMFLAGS = -s
       INSTBINFLAGS = -m 0755
       INSTUIDFLAGS = -m 4755
       INSTLIBFLAGS = -m 0644
       INSTINCFLAGS = -m 0444
       INSTMANFLAGS = -m 0444
       INSTDATFLAGS = -m 0444
      INSTKMEMFLAGS = -m 4755

                 AR = ar clq
                 AS = as
                 CP = cp
                CPP = /lib/cpp $(EXTRA_CCDEFINES) $(OTHER_CCDEFINES)
      PREPROCESSCMD = $(CCDRIVER) -E $(EXTRA_CCDEFINES) $(OTHER_CCDEFINES)
                 LD = ld
                 LN = ln -s
          MKDIRHIER = $(SHELL) $(SCRIPTSRC)/mkdirhier.sh
                 MV = mv
             RANLIB = ranlib
    RANLIBINSTFLAGS =
                 RM = rm -f
              RMDIR = rm -rf
             RM_CMD = $(RM) ,* .emacs_* *..c *.BAK *.CKP *.a *.bak *.ln *.o a.out core errs make.log make.out tags TAGS
              TROFF = psroff

                TOP = /proj/ivtools-0.6
             RELTOP = ../../.
        CURRENT_DIR = /proj/ivtools-0.6/src/glyphs

              IVSRC = $(TOP)/src
             BINSRC = $(IVSRC)/bin
          CONFIGSRC = $(RELTOP)/config
             INCSRC = $(IVSRC)/include
             LIBSRC = $(IVSRC)
             MANSRC = $(IVSRC)/man
          SCRIPTSRC = $(RELTOP)/src/scripts

             BINDIR = $(TOP)/bin/$(ARCH)
          CONFIGDIR = $(TOP)/config
             INCDIR = $(TOP)/include
             LIBDIR = $(RELTOP)/lib/$(ARCH)
          LIBALLDIR = $(TOP)/lib/ivtools
             MANDIR = $(TOP)/man

       ABSCONFIGDIR = /usr/local/lib/ivtools
          ABSLIBDIR = /usr/local/lib
       ABSLIBALLDIR = /usr/local/lib/ivtools
       RELLIBALLDIR = $(TOP)/lib/ivtools
         XCONFIGDIR = /usr/X11R6/lib/X11/config
            XINCDIR = /usr/X11R6/include
            XLIBDIR = /usr/X11R6/lib
          PSFONTDIR = /usr/lib/ps

all::

Makefile::
	-@if [ -f Makefile ]; then \
	$(RM) Makefile.bak; \
	$(MV) Makefile Makefile.bak; \
	else exit 0; fi
	-@echo "Making Makefile"
	-@if [ $(TOP) = $(CURRENT_DIR) ]; then \
	echo >.toplevel-make-makefile; else \
	echo >.not-toplevel-make-makefile; fi
	-@if [ -f .toplevel-make-makefile ]; then \
	$(IMAKE) $(IMAKEFLAGS) -I$(shell pwd)/config \
	-DTOPDIR=$(shell pwd) -DRELTOPDIR=$(RELTOP) -DCURDIR=$(shell pwd);fi
	-@if [ -f .not-toplevel-make-makefile ]; then \
	$(IMAKE) $(IMAKEFLAGS) -DTOPDIR=$(TOP) \
	-DRELTOPDIR=$(RELTOP) -DCURDIR=$(shell pwd); fi
	-@if [ $(TOP) = $(CURRENT_DIR) ]; then \
	$(RM) .toplevel-make-makefile; else \
	$(RM) .not-toplevel-make-makefile; fi
Makefiles::
depend::
install::

clean::
	@$(RM_CMD) "#"*

# -------------------------------------------------------------------------

#
# example glyph programs
#

PACKAGE = glyphs_ivtools

SUBDIRS = 	bdvtable 	formdemo 	gclock 	meter 	radiogroup 	scrollable 	scrollfield 	strchooser 	text-editor 	timestamp

Makefiles::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "Making Makefiles" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	if [ -f $$i/Makefile ]; then \
	$(RM) $$i/Makefile.bak; \
	$(MV) $$i/Makefile $$i/Makefile.bak; \
	fi; \
	$(IMAKE) $(IMAKEFLAGS) \
	-DTOPDIR=$(TOP) -DRELTOPDIR=../$(RELTOP) \
	-DCURDIR=$(CURRENT_DIR)/$$i \
	-f $$i/Imakefile -s $$i/Makefile; \
	cd $$i; \
	$(MAKE) $(PASSARCH) Makefiles; \
	) else continue; fi; \
	done

depend::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "depending" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) depend; \
	) else continue; fi; \
	done

all::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "making all" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) all; \
	) else continue; fi; \
	done

install::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "installing" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) install; \
	) else continue; fi; \
	done

clean::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "cleaning" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) clean; \
	) else continue; fi; \
	done

Makefiles.debug:
	@$(MAKE) ARCH="$(ARCH).debug" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseDebug" \
	Makefiles
depend.debug:
	@$(MAKE) ARCH="$(ARCH).debug" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseDebug" \
	depend
all.debug:
	@$(MAKE) ARCH="$(ARCH).debug" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseDebug" \
	all
install.debug:
	@$(MAKE) ARCH="$(ARCH).debug" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseDebug" \
	install
clean.debug:
	@$(MAKE) ARCH="$(ARCH).debug" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseDebug" \
	clean

Makefiles.noshared:
	@$(MAKE) ARCH="$(ARCH).noshared" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseNonShared" \
	Makefiles
depend.noshared:
	@$(MAKE) ARCH="$(ARCH).noshared" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseNonShared" \
	depend
all.noshared:
	@$(MAKE) ARCH="$(ARCH).noshared" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseNonShared" \
	all
install.noshared:
	@$(MAKE) ARCH="$(ARCH).noshared" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseNonShared" \
	install
clean.noshared:
	@$(MAKE) ARCH="$(ARCH).noshared" \
	SPECIAL_IMAKEFLAGS="$(SPECIAL_IMAKEFLAGS) -DUseNonShared" \
	clean

cmchkin::
	-@if [ ! -d $(TOP)/cm ]; then \
	(cd $(TOP); cminstall); fi
	@csh -c '(setenv REPOSITORY_FILES "$(REPOSITORY_FILES)"; cmchkin $(PACKAGE) $(TOP)/cm $(TOP) $(CURRENT_DIR))';

cmtag::
	cmtag $(CMFLAGS) $(CMARGS)

cmadd::
	-@if [ ! -d $(TOP)/cm ]; then \
	(echo "Build repository first with cmchkin"; exit 0;); fi
	-@if [ ! -d $(CURRENT_DIR)/CVS ]; then \
	(echo "Build repository first with cmchkin"; exit 0;); fi
	@csh -c '(setenv REPOSITORY_FILES "$(REPOSITORY_FILES)";cmadd -m null_message)'

cmupdate::
	-@if [ ! -d $(TOP)/cm ]; then \
	(echo "Build repository first with cmchkin"; exit 0;); fi
	-@if [ ! -d $(CURRENT_DIR)/CVS ]; then \
	(echo "Build repository first with cmchkin"; exit 0;); fi
	cmupdate

cmcommit::
	-@if [ ! -d $(TOP)/cm ]; then \
	(echo "Build repository first with cmchkin"; exit 0;); fi
	-@if [ ! -d $(CURRENT_DIR)/CVS ]; then \
	(echo "Build repository first with cmchkin"; exit 0;); fi
	-@if [ -z "$(CMMSG)" ]; then cmcommit $(CMFLAGS); \
	else cmcommit $(CMFLAGS) -m "$(CMMSG)"; fi

cmchkin::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "checking into the repository" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) cmchkin; \
	) else continue; fi; \
	done

cmtag::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "tagging the repository" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) cmtag; \
	) else continue; fi; \
	done

cmadd::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "adding to the repository" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) cmadd; \
	) else continue; fi; \
	done

cmupdate::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "updating from repository" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) cmupdate; \
	) else continue; fi; \
	done

cmcommit::
	-@for i in $(SUBDIRS); \
	do \
	if [ -d $$i ]; then ( \
	echo "committing to repository" \
	"for $(ARCH) in $(CURRENT_DIR)/$$i"; \
	cd $$i; \
	$(MAKE) $(PASSARCH) cmcommit; \
	) else continue; fi; \
	done

